api_handlers:
  tenants:
    user_logout: tenants.api.handlers.TenantsAPI.user_logout
    initialize: tenants.api.handlers.TenantsAPI.initialize
    session: tenants.api.handlers.TenantsAPI.session
  nemanja:
    healthy: nemanja.api.handlers.APIHandler.healthy

middlewares:
  - fn_1: base4.base4.utilities.access_control.middlewares:ac_test_middleware_true

attributes:
  time_based:
    - name: business_hours
      params:
        - from: "10:00"
        - to: "17:00"

    - name: off_hours
      params:
        - from: "17:00"
        - to: "09:00"

  location_based:
    - name: internal_network
      params:
        cidr: "192.168.0.0/24"

    - name: external_network
      params:
        cidr: "0.0.0.0/0"


roles:
  __common__:
    permissions:
      - tenants.user_logout
      - tenants.user_session

    rate_limit:
      calls: 100
      period: 3600  # Globalno za sve permisije u roli


  master:
    inherits:
      - __common__

    permissions:
      - tenants.initialize:
          middlewares:
            - fn_1
          rate_limit:
            calls: 10
            period: 600

  user:
    inherits:
      - __common__
#    permissions:
#    attributes:
